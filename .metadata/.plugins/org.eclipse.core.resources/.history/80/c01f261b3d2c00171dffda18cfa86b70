#include <os\list.hpp>
#include <sys\queue.h>

using namespace sys;

struct test_entry {
	int value;
	slist_entry<test_entry> list1;
	slist_entry<test_entry> list2;
	constexpr test_entry() : value(0) {}
};

slist_head<test_entry> head1;
slist_head<test_entry> head2;

test_entry stuff[20];


extern "C" void try_list() {
	int count = 22;

	for(auto &a : stuff) {
		a.value = count++;
		slist_insert_head(head1,&a,&test_entry::list1);
	}

}
